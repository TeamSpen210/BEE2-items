"Conditions"
	{
	"Condition"
		{
		"Priority" "50"
		"instance" "[door_frame]" // SP and Coop.
		"Result"
			{
			"TemplateBrush" "BEE2_DOOR_FRAME_80s"
			}
		"Condition"
			{
			"StyleVar" "DoorCameras"
			// Basic check that this space is free - check all four blocks.
			"PosIsSolid"
				{
				"Pos" "16 -144 0"
				"Type" "tile"
				}
			"PosIsSolid"
				{
				"Pos" "48 -144 0"
				"Type" "tile"
				}
			"PosIsSolid"
				{
				"Pos" "16 -176 0"
				"Type" "tile"
				}
			"PosIsSolid"
				{
				"Pos" "48 -176 0"
				"Type" "tile"
				}
			"Result"
				{
				"ChangeInstance" "instances/BEE2/50s/sphere_sp/door_speaker.vmf"
				}
			"Else"
				{
				"ChangeInstance" ""
				}
			}
		}

	"Condition"
		{
		"Priority"	"10"
		"instance"	"instances/BEE2/80s/sphere_sp/enrichment_sphere.vmf"
		"Result"
			{
			"Condition"
				{
				"StyleVar"	"OpenSphere"
				"Result"
					{
					"suffix"	"open"
					"Condition"
						{
						"has"	"blueGel"
						"Result"
							{
							"addOverlay"
								{
								"File"	"instances/BEE2/80s/sphere_sp/sphere_open/pipes_blue.vmf"
								}
							}
						}
					"Condition"
						{
						"has"	"whiteGel"
						"Result"
							{
							"addOverlay"
								{
								"File"	"instances/BEE2/80s/sphere_sp/sphere_open/pipes_white.vmf"
								}
							}
						}
					"Condition"
						{
						"has"	"orangeGel"
						"Result"
							{
							"addOverlay"
								{
								"File"	"instances/BEE2/80s/sphere_sp/sphere_open/pipes_orange.vmf"
								}
							}
						}
					"Condition"
						{
						"has"	"waterGel"
						"Result"
							{
							"addOverlay"
								{
								"File"	"instances/BEE2/80s/sphere_sp/sphere_open/pipes_water.vmf"
								}
							}
						}
					"Condition"
						{
						"has"	"greyGel"
						"Result"
							{
							"addOverlay"
								{
								"File"	"instances/BEE2/80s/sphere_sp/sphere_open/pipes_grey.vmf"
								}
							}
						}
					"Condition"
						{
						"has"	"pellet"
						"Result"
							{
							"addOverlay"
								{
								"File"	"instances/BEE2/80s/sphere_sp/sphere_open/pellet.vmf"
								}
							}
						}
					"Condition"
						{
						"has"	"DiversityVent"
						"Result"
							{
							"addOverlay"
								{
								"File"	"instances/BEE2/80s/sphere_sp/sphere_open/vent.vmf"
								}
							}
						}
					"Condition"
						{
						"has"  "bridge"
						"Result"
							{
							"addOverlay"
								{
								"File"	"instances/BEE2/80s/sphere_sp/sphere_open/bridge.vmf"
								}
							}
						}
					"Condition"
						{
						"has"	"laser"
						"Result"
							{
							"addOverlay"
								{
								"File"	"instances/BEE2/80s/sphere_sp/sphere_open/laser.vmf"
								}
							}
						"Else"
							{
							"addOverlay"
								{
								"File"	"instances/BEE2/80s/sphere_sp/sphere_open/no_laser.vmf"
								}
							}
						}
					}
				"Else"
					{
					"Condition"
						{
						"has"	"blueGel"
						"Result"
							{
							"addOverlay"
								{
								"File"	"instances/BEE2/80s/sphere_sp/sphere/pipes_blue.vmf"
								}
							}
						}
					"Condition"
						{
						"has"	"orangeGel"
						"Result"
							{
							"addOverlay"
								{
								"File"	"instances/BEE2/80s/sphere_sp/sphere/pipes_orange.vmf"
								}
							}
						}
					"Condition"
						{
						"has"	"whiteGel"
						"Result"
							{
							"addOverlay"
								{
								"File"	"instances/BEE2/80s/sphere_sp/sphere/pipes_white.vmf"
								}
							}
						}
					"Condition"
						{
						"has"	"waterGel"
						"Result"
							{
							"addOverlay"
								{
								"File"	"instances/BEE2/80s/sphere_sp/sphere/pipes_water.vmf"
								}
							}
						}
					"Condition"
						{
						"has"	"greyGel"
						"Result"
							{
							"addOverlay"
								{
								"File"	"instances/BEE2/80s/sphere_sp/sphere/pipes_grey.vmf"
								}
							}
						}
					"Condition"
						{
						"has"	"DiversityVent"
						"Result"
							{
							"addOverlay"
								{
								"File"	"instances/BEE2/80s/sphere_sp/sphere/vent.vmf"
								}
							}
						}
					}
				}
			}
		}
		
	
	"Condition"
		{
		"Priority"	"10"
		"instance"  "[spEntryCorr]"
		"Result"
			{
			"AddOverlay" "instances/BEE2/50s/sphere_sp/entry_door.vmf"
			}
		"Condition" 
			{
			"instance"	"[spEntryCorr1]"
			"Condition"
				{
				"has"	"BallButton"
				"Result"
					{
					"addOverlay"
						{
						"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_1/ball_button.vmf"
						}
					}
				"else"
					{
					"addOverlay"
						{
						"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_1/no_ball_button.vmf"
						}
					}
				}
			"Condition"
				{
				"has"	"CubeDropperSphere"
				"Result"
					{
					"addOverlay"
						{
						"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_1/ball_dropper.vmf"
						}
					}
				"else"
					{
					"addOverlay"
						{
						"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_1/no_ball_dropper.vmf"
						}
					}
				}
			"Condition"
				{
				"has"	"crusher"
				"Result"
					{
					"addOverlay"
						{
						"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_1/crusher.vmf"
						}
					}
				"else"
					{
					"addOverlay"
						{
						"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_1/no_crusher.vmf"
						}
					}
				}
			"Condition"
				{
				"has"	"CubeButton"
				"Result"
					{
					"addOverlay"
						{
						"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_1/cube_button.vmf"
						}
					}
				"else"
					{
					"addOverlay"
						{
						"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_1/no_cube_button.vmf"
						}
					}
				}
			"Condition"
				{
				"OR"
					{
					"has"	"CubeDropperStandard"
					"has"	"CubeDropperCompanion"
					"has"	"CubeDropperReflection"
					"has"	"CubeDropperFranken"
					}
				"Result"
					{
					"addOverlay"
						{
						"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_1/cube_dropper.vmf"
						}
					}
				"else"
					{
					"addOverlay"
						{
						"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_1/no_cube_dropper.vmf"
						}
					}
				}
			"Condition"
				{
				"has"	"deadly"
				"Result"
					{
					"addOverlay"
						{
						"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_1/deadly.vmf"
						}
					}
				"else"
					{
					"addOverlay"
						{
						"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_1/no_deadly.vmf"
						}
					}
				}
			"Condition"
				{
				"has"	"funnel"
				"Result"
					{
					"addOverlay"
						{
						"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_1/funnel.vmf"
						}
					}
				"else"
					{
					"addOverlay"
						{
						"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_1/no_funnel.vmf"
						}
					}
				}
			"Condition"
				{
				"has"	"CubeReflect"
				"Result"
					{
					"addOverlay"
						{
						"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_1/laser_cube.vmf"
						}
					}
				"else"
					{
					"addOverlay"
						{
						"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_1/no_laser_cube.vmf"
						}
					}
				}
			"Condition"
				{
				// Do we have a laser, and a turret we can burn?
				"has"	"CubeReflect"
				"has"	"Laser"
				"has"	"Turret"
				"Result"
					{
					"addOverlay"
						{
						"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_1/laser_turret.vmf"
						}
					}
				"else"
					{
					"addOverlay"
						{
						"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_1/no_laser_turret.vmf"
						}
					}
				}
			"Condition"
				{
				"has"	"Turret"
				"Result"
					{
					"addOverlay"
						{
						"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_1/turret.vmf"
						}
					}
				"else"
					{
					"addOverlay"
						{
						"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_1/no_turret.vmf"
						}
					}
				}
			"Condition"
				{
				"has"	"WhiteGel"
				"Result"
					{
					"addOverlay"
						{
						"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_1/whitegel.vmf"
						}
					}
				"else"
					{
					"addOverlay"
						{
						"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_1/no_whitegel.vmf"
						}
					}
				}
			"Result"
				{
				"addCavePortrait"
					{
					"File"	"instances/BEE2/50s/sphere_sp/entry_corridor_1/portrait.vmf"
					}
				}
			}
			
		"Condition"
			{
			"Priority"	"10"
			"instance"	"[spEntryCorr2]"
			"Condition"
				{ "has"	"PortalGel"
				"Result" 
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/has_conversion.vmf" }
				"else"
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/no_conversion.vmf" }
				}
			"Condition"
				{ "has"	"Deadly"
				"Result" 
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/has_danger.vmf" }
				"else"
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/no_danger.vmf" }
				}
			"Condition"
				{ "has"	"Crusher"
				"Result" 
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/has_pistons.vmf" }
				"else"
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/no_pistons.vmf" }
				}
			"Condition"
				{ "has"	"Turret"
				"Result" 
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/has_turret.vmf" }
				"else"
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/no_turret.vmf" }
				}
			
			"Condition"
				{ "has"	"BallButton"
				"Result" 
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/sign_on_ball_btn.vmf" }
				"else"
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/sign_off_ball_btn.vmf" }
				}
			"Condition"
				{ "has"	"CubeButton"
				"Result" 
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/sign_on_cube_btn.vmf" }
				"else"
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/sign_off_cube_btn.vmf" }
				}
			"Condition"
				{ "has"	"Bridge"
				"Result" 
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/sign_on_bridge.vmf" }
				"else"
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/sign_off_bridge.vmf" }
				}
			"Condition"
				{ "has"	"CubeReflect"
				"Result" 
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/sign_on_laser_cube.vmf" }
				"else"
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/sign_off_laser_cube.vmf" }
				}
			"Condition"
				{ "has"	"Funnel"
				"Result" 
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/sign_on_funnel.vmf" }
				"else"
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/sign_off_funnel.vmf" }
				}
			"Condition"
				{ "has"	"Pellet"
				"Result" 
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/sign_on_pellet.vmf" }
				"else"
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/sign_off_pellet.vmf" }
				}
			"Condition"
				{ "has"	"GelDropper"
				"Result" 
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/sign_on_geldrop.vmf" }
				"else"
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/sign_off_geldrop.vmf" }
				}
			"Condition"
				{ "has"	"SpeedGel"
				"Result" 
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/sign_on_speed.vmf" }
				"else"
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/sign_off_speed.vmf" }
				}
			"Condition"
				{ "has"	"BounceGel"
				"Result" 
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/sign_on_bounce.vmf" }
				"else"
					{ "addOverlay" "instances/BEE2/80s/sphere_sp/entry_corridor_2/sign_off_bounce.vmf" }
				}
			}
			
		// Entry 3
		"Condition"
			{
			"Priority"	"10"
			"instance"	"[spEntryCorr3]"
			"Result"
				{
				"Condition"
					{
					"has"	"BallButton"
					"Result"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/ball_button.vmf"
							}
						}
					"else"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/no_ball_button.vmf"
							}
						}
					}
				"Condition"
					{
					"has"	"CubeDropperSphere"
					"Result"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/ball_dropper.vmf"
							}
						}
					"else"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/no_ball_dropper.vmf"
							}
						}
					}
				"Condition"
					{
					"has"	"CubeButton"
					"Result"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/cube_button.vmf"
							}
						}
					"else"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/no_cube_button.vmf"
							}
						}
					}
				"Condition"
					{
					"OR"
						{
						"has"	"CubeDropperStandard"
						"has"	"CubeDropperCompanion"
						"has"	"CubeDropperReflection"
						"has"	"CubeDropperFranken"
						}
					"Result"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/cube_dropper.vmf"
							}
						}
					"else"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/no_cube_dropper.vmf"
							}
						}
					}
				"Condition"
					{
					"has"	"deadly"
					"Result"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/deadly.vmf"
							}
						}
					"else"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/no_deadly.vmf"
							}
						}
					}
				"Condition"
					{
					"OR"
						{
						"Has"	"Neurotoxin"
						"Has"   "Funnel"
						}
					"Result"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/respirator.vmf"
							}
						}
					"else"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/no_respirator.vmf"
							}
						}
					}
				"Condition"
					{
					"has"	"CubeReflect"
					"Result"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/laser_cube.vmf"
							}
						}
					"else"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/no_laser_cube.vmf"
							}
						}
					}
				"Condition"
					{
					// Do we have a laser, and a turret we can burn?
					"has"	"CubeReflect"
					"has"	"Laser"
					"has"	"Turret"
					"Result"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/laser_turret.vmf"
							}
						}
					"else"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/no_laser_turret.vmf"
							}
						}
					}
				"Condition"
					{
					"has"	"Turret"
					"Result"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/turret.vmf"
							}
						}
					"else"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/no_turret.vmf"
							}
						}
					}
				"Condition"
					{
					"has"	"BlueGel"
					"Result"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/bluegel.vmf"
							}
						"Pack"      "PACK_BEE2_WORLD_SIGN_PAINT_JUMP"
						}
					"else"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/no_bluegel.vmf"
							}
						}
					}
				"Condition"
					{
					"has"	"OrangeGel"
					"Result"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/orangegel.vmf"
							}
						"Pack"      "PACK_BEE2_WORLD_SIGN_PAINT_SPEED"
						}
					"else"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/no_orangegel.vmf"
							}
						}
					}
				"Condition"
					{
					"has"	"WhiteGel"
					"Result"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/whitegel.vmf"
							}
						}
					"else"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/no_whitegel.vmf"
							}
						}
					}
				"Condition"
					{
					"has"	"Water"
					// Add in piping if water is present
					"Result"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/water.vmf"
							}
						}
					}
					
				"Condition"
					{
					"has"	"Pellet"
					"Result"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/pellet.vmf"
							}
						"Pack"      "PACK_BEE2_WORLD_SIGN_PELLET"
						}
					"else"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/no_pellet.vmf"
							}
						}
					}
				"Condition"
					{
					"has"	"Crusher"
					"Result"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/pistons.vmf"
							}
						}
					"else"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/no_pistons.vmf"
							}
						}
					}
				"Condition"
					{
					"has"	"Bridge"
					"Result"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/bridge.vmf"
							}
						"Pack"      "PACK_BEE2_WORLD_SIGN_BRIDGE"
						}
					"else"
						{
						"addOverlay"
							{
							"File"	"instances/BEE2/80s/sphere_sp/entry_corridor_3/no_bridge.vmf"
							}
						}
					}
				}
			}
		}
	}
